---
import LandingLayout from "@layouts/LandingLayout.astro";

import stressedImage from "@assets/img/stressed-person.png";
import doubting from "@assets/img/doubting.png";
import surprisedPerson from "@assets/img/surprised-person.png";
import adviserImage from "@assets/img/adviser.png";
import happyImage from "@assets/img/happy-person-phone.png";
import { Image } from "astro:assets";
import TextListItem from "@components/landing/TextListItem.astro";
import BenefitCard from "@components/landing/BenefitCard.astro";
import StepCard from "@components/landing/StepCard.astro";
import { getCollection } from "astro:content";
import UsersOpinionsCarrousel from "@components/landing/UsersOpinionsCarrousel.tsx";
import FAQS from "@components/landing/faqs/FAQs.astro";

export const prerender = false;

const benefitCards = [
  {
    title: "Escalable",
    icon: "rocket",
    description: "Multiplica tus ganancias sin límites",
  },
  {
    title: "Fondeo",
    icon: "money",
    description: "Gana sin arriesgar un dólar de tu bolsillo",
  },
  {
    title: "Merecimiento",
    icon: "target",
    description: "Tu talento es tu única inversión.",
  },
  {
    title: "Academia",
    icon: "people",
    description: "Aprende, compite y escala con expertos.",
  },
];

const stepsCollection = (await getCollection("blogSteps")).sort(
  (a, b) => +a.slug - +b.slug
);

const opinionsCollection = await getCollection("opinions");
if (!opinionsCollection || !stepsCollection) return null;
---

<LandingLayout>
  <!--SECTION Vista inicial - Hero + Video-->
  <div class="landing-hero pt-12 sm:pt-16 md:pt-20 lg:pt-24">
    <div class="flex gap-3 sm:gap-4 md:gap-5 flex-col order-2 md:order-1">
      <h3 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-semibold">
        ¿Tu pasión deportiva no te da ganancias reales?
      </h3>
      <h1
        class="text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-bold text-primary"
      >
        Hasta ahora
      </h1>
      <p class="font-medium tracking-wide text-sm sm:text-base">
        Transforma tu pasión en un negocio rentable: <br />Te damos el capital y
        la metodología para que operes como un profesional, sin arriesgar tu
        propio dinero.
      </p>
      <a
        href="/challenges"
        class="flex mt-4 sm:mt-6 lg:mt-7 px-4 sm:px-5 py-2 sm:py-2.5 bg-white rounded-xl font-semibold text-secondary w-fit text-sm sm:text-base"
      >
        Empieza tu evaluación
      </a>
    </div>

    <div
      class="border border-primary h-[300px] sm:h-[400px] md:h-[500px] lg:h-[600px] shadow-lg shadow-primary rounded-2xl overflow-hidden fade-on-scroll transition-transform order-1 md:order-2"
    >
      <iframe
        width="100%"
        height="100%"
        src="https://www.youtube.com/embed/9ZOLxE1gz_U?controls=0&rel=0&mute=1"
        title="YouTube video player"
        allowfullscreen
      >
      </iframe>
    </div>
  </div>
  <!--!SECTION -->

  <!--SECTION Problema - Solución -->
  <div id="quienes-somos" class="pt-15 sm:pt-20 md:pt-25 lg:pt-30">
    <div class="grid grid-cols-1 md:grid-cols-[40%_60%] gap-6 md:gap-2">
      <div class="flex justify-center order-2 md:order-1" data-aos="fade-right">
        <img
          src={stressedImage.src}
          alt="Persona estresada"
          height={347}
          width={295.7}
          class="max-w-full h-auto w-48 sm:w-56 md:w-80 aspect-[295/347]"
        />
      </div>
      <div
        class="space-y-3 sm:space-y-4 md:space-y-5 order-1 md:order-2"
        data-aos="fade-left"
      >
        <h1 class="text-primary text-2xl sm:text-3xl lg:text-4xl font-bold">
          ¿Te suena familiar alguna de estas historias?
        </h1>
        <TextListItem>
          Sabes de deporte, analizas partidos y aún así,
          <span class="text-primary">
            ¿te cuesta convertir eso en ganancias? No estás solo/a.
          </span>
          Millones viven esa frustración.
        </TextListItem>
        <TextListItem>
          Eres de los que analiza cada detalle, detecta patrones y sabe
          identificar oportunidades en cada partido.
          <span class="text-primary">
            El problema no es tu habilidad, ¡es el tamaño de tu capital!
          </span>
        </TextListItem>
        <button class="btn bg-white text-secondary ml-0 sm:ml-8 lg:ml-16"
          >Ver cómo cambiar esto</button
        >
      </div>
    </div>
    <div
      class="bg-white rounded-2xl sm:rounded-3xl lg:rounded-4xl px-4 sm:px-6 lg:px-10 py-4 sm:py-5 grid grid-cols-1 lg:grid-cols-[75%_25%] relative"
      data-aos="fade-topudddddddd"
    >
      <div class="space-y-2 sm:space-y-3">
        <h1
          class="text-secondary text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold"
        >
          ¡Hay quienes ya viven del deporte!
        </h1>
        <h3 class="text-secondary text-base sm:text-lg lg:text-xl">
          Su secreto está a punto de ser revelado.
        </h3>
        <TextListItem className="text-secondary" variant="all-dark">
          Es hora de generar ingresos con tu conocimiento deportivo.
          <strong>Esta es tu liga.</strong>
        </TextListItem>
        <TextListItem className="text-secondary" variant="all-dark">
          Detrás de la frustración general, hay una realidad oculta:
          <strong>sí es posible vivir del conocimiento deportivo.</strong> Existe
          un grupo de visionarios que han convertido su pasión en una fuente de ingresos
          real, y no, <strong>no tienen más suerte que tú.</strong>
        </TextListItem>
        <button class="btn bg-secondary ml-0 sm:ml-6 lg:ml-12 mb-0"
          >Descubre el Secreto Ahora</button
        >
      </div>
      <img
        src={adviserImage.src}
        alt="Asesora"
        width={297}
        height={336}
        class="hidden lg:block absolute right-0 bottom-0 max-w-[200px] xl:max-w-none"
      />
    </div>
  </div>
  <!--!SECTION -->

  <!--SECTION Beneficios y pasos -->
  <div class="flex flex-col items-center">
    <div class="grid grid-cols-1 lg:grid-cols-[70%_30%] gap-6 lg:gap-2">
      <div class="space-y-3 sm:space-y-4 md:space-y-5 order-2 lg:order-1">
        <h2 class="text-primary text-2xl sm:text-3xl lg:text-4xl font-bold">
          ¡Tu puente al siguiente nivel!
        </h2>
        <p class="text-sm sm:text-base">
          <strong>MyFondeo</strong> es la plataforma de fondeo para
          <strong> pronósticos deportivos </strong>
          diseñada para ti. Aquí, tu conocimiento en deportes es tu mayor
          <strong>activo.</strong>
        </p>
        <h3 class="text-base sm:text-lg">Nuestros beneficios</h3>
        <div
          class="grid grid-cols-2 lg:flex lg:justify-between w-full gap-2 lg:gap-2"
        >
          {
            benefitCards.map(({ title, icon, description }) => (
              <BenefitCard title={title} icon={icon as any}>
                {description}
              </BenefitCard>
            ))
          }
        </div>
      </div>
      <img
        src={happyImage.src}
        alt="Persona feliz"
        class="mask-b-from-75% mask-b-to-99% max-w-full h-auto w-48 sm:w-56 md:w-64 lg:w-100 order-1 lg:order-2 mx-auto aspect-[296/347]"
      />
    </div>
    <div
      class="bg-white rounded-2xl sm:rounded-3xl lg:rounded-4xl p-4 sm:p-6 lg:p-7.5 text-secondary w-full max-w-none lg:w-[120%] mt-5 lg-mt-0"
    >
      <h2 class="text-lg sm:text-xl lg:text-2xl font-bold">
        Así de simple es operar con MyFondeo.
      </h2>
      <p class="text-base sm:text-lg lg:text-xl font-medium">
        Tu Camino al Éxito en 3 Pasos:
      </p>
      <div
        class="grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4 lg:gap-5 mt-3 px-0 sm:px-2 lg:px-5"
      >
        {
          stepsCollection.map(async ({ data, render }, i) => {
            const { Content } = await render();
            return (
              <StepCard number={i + 1} title={data.title}>
                <Content />
              </StepCard>
            );
          })
        }
      </div>
    </div>
  </div>
  <!--!SECTION -->

  <!-- SECTION Opiniones usuarios-->
  <div class="flex flex-col items-center max-w-full">
    <h1
      class="text-2xl sm:text-3xl lg:text-4xl font-semibold text-center mb-6 sm:mb-8 lg:mb-10 px-4"
    >
      Ellos ya viven del deporte. Conoce sus resultados.
    </h1>

    <div class="w-full max-w-none lg:w-[130%]">
      <UsersOpinionsCarrousel
        client:visible
        items={opinionsCollection.map(({ data }) => data)}
      />
    </div>
  </div>

  <div class="flex flex-col items-center pt-16 sm:pt-20 lg:pt-29" id="FAQ">
    <div
      class="w-full max-w-screen lg:w-[150%] flex flex-col-reverse lg:grid lg:grid-cols-[35%_55%] lg:gap-[10%] pb-16 sm:pb-24 lg:pb-32 justify-center"
    >
      <div
        data-aos="fade-right"
        data-aos-mirror="true"
        data-aos-offset="350"
        class="order-2 lg:order-1"
      >
        <h1
          class="text-3xl sm:text-4xl lg:text-5xl text-primary-text font-bold text-center lg:text-left"
        >
          Despeja tus dudas <br />
          <span class="text-primary">(al instante)</span>
        </h1>
        <div class="flex justify-center lg:block">
          <img
            src={doubting.src}
            alt=""
            class="max-w-full h-auto w-64 sm:w-80 lg:w-auto"
          />
        </div>
      </div>
      <div class="order-1 lg:order-2 mt-8 lg:mt-0">
        <FAQS />
      </div>
    </div>
  </div>

  <div
    class="px-2 sm:px-4 lg:px-5 grid grid-cols-1 lg:grid-cols-[60%_40%] gap-6 lg:gap-0"
  >
    <div class="order-2 lg:order-1 text-center lg:text-left">
      <span
        class="text-2xl sm:text-3xl lg:text-4xl text-primary-text font-semibold mt-2"
        >Convierte tu conocimiento deportivo en</span
      >
      <br />
      <span class="text-4xl sm:text-5xl lg:text-7xl text-primary font-bold"
        >Ingresos reales</span
      >

      <button
        class="btn bg-white text-secondary mt-8 sm:mt-16 lg:mt-32 block mx-auto mb-6 lg:ml-4 shadow-primary shadow-md hover:shadow-lg"
        style="padding: 1rem 2rem; font-size: 0.875rem;"
      >
        Quiero Empezar
      </button>
    </div>
    <div class="order-1 lg:order-2 flex justify-center">
      <img
        src={surprisedPerson.src}
        alt=""
        class="max-w-full h-auto w-64 sm:w-80 lg:w-100"
      />
    </div>
  </div>
</LandingLayout>

<style>
  .swiper {
    overflow: auto !important;
  }
</style>
